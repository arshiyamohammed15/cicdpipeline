{
  "constitution_rules": [
    {
      "rule_id": "STR-001",
      "title": "Enforce Module-Folder Binding",
      "category": "Structural Mapping",
      "enabled": true,
      "severity_level": "Blocker",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-STR-001"],
        "policy_snapshot_hash": "abc123def456"
      },
      "description": "Specifies exact folder paths for each module code (M01–M20) in both VS Code extension and GSMD directories.",
      "requirements": [
        "Each M01-M20 MUST map to exactly one VS Code extension folder",
        "Each M01-M20 MUST map to exactly one GSMD folder",
        "Folder paths MUST match canonical mapping exactly"
      ],
      "validation": "Automated check verifies folder existence against canonical mapping."
    },
    {
      "rule_id": "STR-002",
      "title": "Enforce Module Code as Primary Key",
      "category": "Identifier Authority",
      "enabled": true,
      "severity_level": "Blocker",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-STR-002"],
        "policy_snapshot_hash": "abc123def457"
      },
      "description": "Establishes module code (M01–M20) as primary identifier for all folder bindings.",
      "requirements": [
        "Module code MUST be used as primary identifier for all folder bindings",
        "No alternative identifiers may supersede module codes"
      ],
      "validation": "Automated check verifies module code consistency across mappings."
    },
    {
      "rule_id": "INV-001",
      "title": "Require Core Snapshot Files",
      "category": "Content Validation",
      "enabled": true,
      "severity_level": "Critical",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-INV-001"],
        "policy_snapshot_hash": "abc123def458"
      },
      "description": "Requires specific snapshot files with defined key structures for each module.",
      "requirements": [
        "Every module MUST provide `messages/v1/snapshot.json` with `problems`, `status_pill`, `cards` keys",
        "Every module MUST provide `receipts_schema/v1/snapshot.json` with `required` and `optional` keys"
      ],
      "validation": "Automated check verifies file existence and structure."
    },
    {
      "rule_id": "INV-002",
      "title": "Enforce Snapshot Schema Completeness",
      "category": "Schema Requirements",
      "enabled": true,
      "severity_level": "Critical",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-INV-002"],
        "policy_snapshot_hash": "abc123def459"
      },
      "description": "Mandates all top-level fields in every snapshot JSON file.",
      "requirements": [
        "Each snapshot JSON MUST include: `snapshot_id`, `module_id`, `slug`, `version`, `schema_version`, `policy_version_ids`, `snapshot_hash`, `signature`, `kid`, `effective_from`, `evaluation_points`, `messages`, `rollout`, `observability`, `privacy`, `evidence`, `receipts`, `tests`"
      ],
      "validation": "Automated check validates field presence in all snapshot JSON."
    },
    {
      "rule_id": "INV-003",
      "title": "Enforce Version Constraints",
      "category": "Version Compliance",
      "enabled": true,
      "severity_level": "Major",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-INV-003"],
        "policy_snapshot_hash": "abc123def460"
      },
      "description": "Specifies versioning constraints for schema and major versions.",
      "requirements": [
        "`schema_version` MUST equal \"1.0.0\"",
        "`version.major` MUST equal 1"
      ],
      "validation": "Automated check verifies version compliance."
    },
    {
      "rule_id": "INV-004",
      "title": "Enforce Policy Linkage Cardinality",
      "category": "Relationship Cardinality",
      "enabled": true,
      "severity_level": "Major",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-INV-004"],
        "policy_snapshot_hash": "abc123def461"
      },
      "description": "Requires policy_version_ids to be array of length 1.",
      "requirements": [
        "`policy_version_ids` MUST be array of length 1"
      ],
      "validation": "Automated check verifies array length equals 1."
    },
    {
      "rule_id": "INV-005",
      "title": "Enforce Key Identifier Format",
      "category": "Security",
      "enabled": true,
      "severity_level": "Critical",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-INV-005"],
        "policy_snapshot_hash": "abc123def462"
      },
      "description": "Mandates KID must contain \"ed25519\" substring.",
      "requirements": [
        "`kid` field MUST contain \"ed25519\" substring"
      ],
      "validation": "Automated check verifies KID format."
    },
    {
      "rule_id": "INV-006",
      "title": "Enforce Evaluation Points Structure",
      "category": "Data Structure",
      "enabled": true,
      "severity_level": "Major",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-INV-006"],
        "policy_snapshot_hash": "abc123def463"
      },
      "description": "Requires evaluation_points to be list data structure.",
      "requirements": [
        "`evaluation_points` MUST be a list"
      ],
      "validation": "Automated check verifies data type is list."
    },
    {
      "rule_id": "CHG-001",
      "title": "Enforce Module Addition Procedure",
      "category": "Change Management",
      "enabled": true,
      "severity_level": "Critical",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-CHG-001"],
        "policy_snapshot_hash": "abc123def471"
      },
      "description": "Specifies standardized procedure for adding new modules.",
      "requirements": [
        "Create both extension and GSMD folders per canonical mapping",
        "Add messages and receipts_schema snapshots with required keys",
        "Pass all automated checks"
      ],
      "validation": "Pipeline validates requirements before integration."
    },
    {
      "rule_id": "CHG-002",
      "title": "Enforce Module Removal Procedure",
      "category": "Change Management",
      "enabled": true,
      "severity_level": "Critical",
      "version": "1.0.0",
      "effective_date": "2024-01-01",
      "last_updated": "2024-06-15T14:30:00Z",
      "last_updated_by": "constitution@zeroui.com",
      "policy_linkage": {
        "policy_version_ids": ["POL-CHG-002"],
        "policy_snapshot_hash": "abc123def472"
      },
      "description": "Specifies standardized procedure for removing modules.",
      "requirements": [
        "Remove both extension and GSMD folders",
        "Update mapping enumerations",
        "Clean up all references"
      ],
      "validation": "Pipeline validates complete removal and updates."
    }
  ],
  "metadata": {
    "total_rules": 10,
    "version": "1.0.0",
    "effective_date": "2024-01-01",
    "last_updated": "2024-06-15T14:30:00Z",
    "constitution_name": "ZeroUI2.0 GSMD and Module Mapping Constitution"
  }
}
