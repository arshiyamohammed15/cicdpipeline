{
  "category": "api_contracts",
  "priority": "critical",
  "description": "API design, contracts, and governance",
  "rules": [
    "OpenAPI 3.1 compliance required",
    "Stable error envelope with canonical codes required",
    "JWT with documented scopes per route required",
    "Rate limit headers and 429 responses required",
    "API Versioning",
    "API calls should have proper error handling",
    "Mutating operations should include idempotency handling",
    "All mutating routes must accept Idempotency-Key",
    "Validate all request inputs with proper error responses",
    "Validate all response outputs with proper schemas",
    "Document authorization requirements and access controls",
    "Declare rate limit headers; exceeding returns 429 deterministically",
    "ETag/If-Match for racy PUT/PATCH; Cache-Control documented",
    "Examples for all responses; migration notes for breaking changes",
    "Provider and consumer contract tests; mock server from spec",
    "Metrics/traces/alerts updated; SLOs published per GA route",
    "Add x-status to endpoints: experimental | beta | ga | deprecated | sunset",
    "Idempotency retention window default 24h with hash of request body",
    "TypeScript: @zeroui/api-v<major>; Python: zeroui_api_v<major>",
    "Optional receipt_signature (Ed25519) for high-trust actions"
  ]
}
